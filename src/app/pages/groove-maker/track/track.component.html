<div class="instrument-row">
  <div class="instrument">
    <mat-form-field appearance="standard">
      <mat-label>instrument {{ index + 1 }}</mat-label>
      <mat-select [value]="instruments[0]">
        <mat-option
          (click)="setInstrument(i)"
          [value]="instrument"
          *ngFor="let instrument of instruments; let i = index"
          >{{ instrument }}</mat-option
        >
      </mat-select>
    </mat-form-field>
  </div>

  <!-- <ng-container *ngIf="notes$ | async"> -->
  <div class="notes-container" #row>
    <div class="notes-row" *ngIf="barFormule$ | async">
      <!-- <ng-container *ngFor="let time of timeFormule$ | async"> -->
      <div
        class="pulse"
        *ngFor="let arrPiece of pulses$ | async; let pulse = index"
      >
        {{ pulse + 1 }}
        <div
          class="note"
          (click)="updateNote(tick, pulse, $event)"
          *ngFor="let note of ticks$ | async; let tick = index"
        >
          {{ tick + 1 }}
        </div>
      </div>
      <!-- </ng-container> -->
    </div>
  </div>
</div>
